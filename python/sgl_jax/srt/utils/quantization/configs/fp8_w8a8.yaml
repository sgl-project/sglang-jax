# FP8 weight and activation quantization config
# Works for both linear and MoE models
# Uses per-channel weight quantization + dynamic per-token activation quantization

quantization:
  # Quantization rules for linear layers (attention, MLP, embeddings)
  linear:
    rules:
      - module_path: '.*'
        weight_dtype: 'float8_e4m3fn'
        activation_dtype: 'float8_e4m3fn'

  # MoE-specific settings (experts weights and activations)
  moe:
    weight_dtype: 'float8_e4m3fn'
    activation_dtype: 'float8_e4m3fn'
